<!--Page main content-->
<div class="page-content page-content-main" style="margin-left:-30px!important;">
  <div class="row sideMenuItem" style="  margin: 0px!important;flex-wrap:none!important">
    <div class="container">
        <!--Right  side content-->
        <div class="col-xs-12 content-right mrtop-20">
      <!--Top heading and breadcrumb-->
      <div class="row">
        <div class="col-xs-12 col-lg-12">
          <span class="breadcrumb-left">
            <h1 class="login-headline heading-title">Live Tracking</h1>
          </span>
          <span class="breadcrumb-right mrtop-06">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a routerLink="/adlp/admin/dashboardAdmin"><i
                    class="bx bx-home-circle"></i></a></li>
              <li class="breadcrumb-item inactive-bread"><a routerLink="/adlp/admin/dashboardAdmin">Dashboard</a></li>
              <li class="breadcrumb-item inactive-bread"><a
                  routerLink="/adlp/admin/admindashboard/tracking">Tracking</a></li>
              <li class="breadcrumb-item active-bread" aria-current="page">Live Trip</li>
            </ol>
          </span>
        </div>
      </div>
      <!--Top heading and breadcrumb end-->
      <!--Live trip-->
      <div class="row mrtop-12">
        <div class="col-xs-12 col-lg-12">
          <div class="card">
            <div class="card-body">
              <!-- Current location-->
              <div class="row mrbot-10">
                <div class="col-xs-12 col-lg-9">
                  <h5 class="heading-crtlcn">Current Location:
                    <span class="heading-crtlcn-val ">{{firstAddressPart}},{{secondAddressPart}}</span>
                  </h5>
                </div>
                <div class="col-xs-12 col-lg-3">
                  <button href="javascript:(void)" (click)="currentTripHistory()" class="histroy-link">Trip
                    History</button>
                </div>
              </div>
              <!-- Current location end-->
              <!--Map upper layer VIN, speed, acceleration-->
              <div class="row">
                <div class="col-xs-12 col-lg-4 col red-box mr-pad"> Vehicle Name: <span style="font-weight: 400!important; font-size: 14px;">{{alias}} </span><br>
                Driver Name:
              <ng-container *ngIf="driver_name === 'null null'">--</ng-container>
              <ng-container *ngIf="driver_name != 'null null'"><span style="font-weight: 400!important; font-size: 14px;">{{driver_name}}</span></ng-container>
            </div>
                <div class="col-xs-12 col-lg-4">&nbsp;</div>
                <div class="col-xs-12 col-lg-2 col orange-box">
                  <div class="speed-icon">Speed</div>
                  <div class="speed-icon-value">{{alertTip?.speed ? (alertTip.speed | number:'1.2-2') : 0}} mph</div>
                </div>
                <div class="col-xs-12 col-lg-2 col new-red-box">
                  <div class="speed-icon">Acceleration</div>
                  <div class="speed-icon-value">{{alertTip?.acceleration ? (alertTip?.acceleration | number:'1.2-2'):0}}
                    m/s<sup>2</sup>
                  </div>
                </div>
              </div>
              <!--Map upper layer VIN, speed, acceleration end-->
              <!-- Live trip map-->
              <div class="map-container">
                <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom" class="map-height"   [mapTypeId]="currentMapType"
                  [styles]="mapStyles">
                  <agm-marker [latitude]="LatLng?.endLat" [longitude]="LatLng?.endLong" [iconUrl]="{ url: './assets/images/small-icon.png',
                 scaledSize: { width: 20, height: 20 } }" [markerDraggable]="false" [agmFitBounds]="true">
                  </agm-marker>
                  <!-- Snapped Polyline (aligned to roads) -->
                  <agm-polyline *ngFor="let polyline of polylines" [strokeColor]="polyline.strokeColor" [strokeWeight]="polyline.strokeWeight">
                    <agm-polyline-point *ngFor="let point of polyline.path" [latitude]="point.lat" [longitude]="point.lng"></agm-polyline-point>
                  </agm-polyline>

                  <!-- Alert Markers -->
                  <agm-marker *ngFor="let marker of alertMarkers" [latitude]="marker.lat" [longitude]="marker.lng" [iconUrl]="marker.icon.url" [title]="marker.title">
                  </agm-marker>

                  <!-- Circle for radius marker -->
                  <agm-circle [latitude]="latitude" [longitude]="longitude" [radius]="30" [fillColor]="'#ef8321'" [circleDraggable]="false" [editable]="false">
                  </agm-circle>
                </agm-map>
                <div class="map-controls">
                  <button (click)="toggleMapType()" class="map-toggle-button"
                    [ngClass]="{'roadmap-bg': currentMapType === 'roadmap', 'satellite-bg': currentMapType === 'satellite'}">
                    <span>{{ currentMapType === 'roadmap' ? 'Roadmap' : 'Satellite' }} </span>
                  </button>
                </div>
              </div>
              <!-- Live trip map end-->
            </div>
          </div>
        </div>
      </div>
      <!--Live trip end-->
    </div>
    <!--right side content end-->
  </div>
</div>
</div>
<!--Page main content end-->

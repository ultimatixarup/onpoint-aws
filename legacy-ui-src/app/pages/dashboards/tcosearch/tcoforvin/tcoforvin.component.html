<div class="page-content page-content-main">
  <div class="row sideMenuItem">
    <div class="container">
      <div class="col-xs-12 content-right">
        <div class="row">
          <div class="col-xs-12 col-lg-12">
            <span class="breadcrumb-left">
              <h1 class="login-headline heading-title">TCO By VIN
              </h1>
            </span>
            <span class="breadcrumb-right mr-8">
              <ol class="breadcrumb">
                <ng-container *ngIf="user == 'admin'">
                  <li class="breadcrumb-item">
                    <a routerLink="/adlp/admin/dashboardAdmin" class="breadcrumb-h6"><i class="bx bx-home-circle"></i></a>
                  </li>
                  <li class="breadcrumb-item inactive-bread"><a routerLink="/adlp/dashboards/tcosearch">TCO Search</a></li>
                </ng-container>
                <ng-container *ngIf="user != 'admin'">
                  <li class="breadcrumb-item">
                    <a routerLink="/adlp/admin/admindashboard/dashboardfleet" class="breadcrumb-h6"><i class="bx bx-home-circle"></i></a>
                  </li>
                  <li class="breadcrumb-item inactive-bread"><a routerLink="/adlp/dashboards/tcosearchfleet">TCO Search</a></li>
                </ng-container>
                <li class="breadcrumb-item text-selected active-bread">TCO By VIN</li>
              </ol>
            </span>
          </div>
        </div>
      <div class="row" style="margin-top: 12px;">
        <div class="col-xs-12 col-lg-12">
          <div class="row">
            <div class="col-xs-12 col-lg-9">
              <div class="content-text">
                <span class="vin_container">
                  <span class="content-sub-text">VIN</span>
                </span>
                <span class="content-sub-text2">{{maskVinNumber(selectVin)}}</span>
              </div>
            </div>
            <!-- <div class="col-xs-12 col-lg-3">
              <ng-select [items]="vinList" bindLabel="vin" bindValue="vin" placeholder="Select VIN" (ngModelChange)="onVinChange($event)" style="font-family: 'Poppins';     margin-top: -12px;
    " [(ngModel)]="vinData">
              </ng-select>
          </div> -->
          </div>
          <div class="row" style="margin-top: 12px;">
            <div class="col-xs-12 col-lg-12">
              <div class="card">
                <div class="card-body vehicle-summary-box-vin">
                  <div class="row">
                    <div class="col-xs-12 col-lg-4">
                      <span class="user-icon f-le">
                        <img src="../../../../../assets/images/icon/activevehicle.svg" class="icon">
                      </span>
                      <span class="f-le">
                        <h4 class="card-title card-heading mb-4">Vehicle Summary</h4>
                      </span>
                    </div>
                    <div class="col-xs-12 col-lg-4">&nbsp;</div>
                    <div class="col-xs-12 col-lg-4">
                      <span class="blue_button" style="float: right;">
                        <span class="pr-2">
                          <img src="../../../../../assets/images/pin.svg" alt="" class="map_pin_icon"></span>
                          <span class="sub-text text_color_white">{{costData?.state}}</span>
                          <span class="sub-text text_color_white"*ngIf="!costData?.state">NA</span>
                        </span>
                  </div>
                  </div>
                  <div class="row-flex pt-3">
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Make</div>
                            <div class="main-text">{{tcoDetail?.make}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.make">{{tcoDetail?.make}}</div>
                        </div>
                    </div>
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Model</div>
                            <div class="main-text">{{tcoDetail?.model}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.model">NA</div>
                        </div>
                    </div>
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Trim</div>
                            <div class="main-text" *ngIf="tcoDetail?.trim == 'Regular Cab DRW'">DRW</div>
                            <div class="main-text" *ngIf="tcoDetail?.trim != 'Regular Cab DRW'">{{tcoDetail?.trim}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.trim">NA</div>
                        </div>
                    </div>
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Year</div>
                            <div class="main-text">{{tcoDetail?.year}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.year">NA</div>
                        </div>
                    </div>
                    <!-- <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Class</div>
                            <div class="main-text" *ngIf="tcoDetail?.bodyClass == 'Sport Utility Vehicle (SUV)/Multi-Purpose Vehicle (MPV)'">SUV</div>
                            <div class="main-text" *ngIf="tcoDetail?.bodyClass != 'Sport Utility Vehicle (SUV)/Multi-Purpose Vehicle (MPV)'">{{tcoDetail?.bodyClass}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.bodyClass">NA</div>
                        </div>
                    </div>
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Body Type</div>
                            <div class="main-text" *ngIf="tcoDetail?.vehicleType == 'MULTIPURPOSE PASSENGER VEHICLE (MPV)'">MPV</div>
                            <div class="main-text" *ngIf="tcoDetail?.vehicleType != 'MULTIPURPOSE PASSENGER VEHICLE (MPV)'">{{tcoDetail?.vehicleType}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.vehicleType">NA</div>
                        </div>
                    </div> -->
                    <div class="row-item">
                        <div class="field-section">
                            <div class="sub-text">Fuel Type</div>
                            <div class="main-text">{{tcoDetail?.primaryFuelType}}</div>
                            <div class="main-text" *ngIf="!tcoDetail?.primaryFuelType">NA</div>
                        </div>
                    </div>
                </div>
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="internalServer1" >
          <div class="row" style="margin-top: 12px;" *ngIf="tcoChartData?.maintenanceData[chartIndex] != 0 ">
            <div class="col-xs-12 col-lg-12">
              <div class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-xs-12 col-lg-7">
                      <div>
                      <span class="user-icon f-le">
                        <img src="../../../../../assets/images/tcoforvin.svg" class="icon">
                      </span>
                      <span class="f-le">
                        <h4 class="card-title card-heading mb-4">Projected TCO</h4>
                      </span>
                    </div>
                    <div class="row" style="margin-top: 40px;">
                      <div class="col-xs-12 col-lg-8" style="margin-left: -60px; ">
                        <div class="row">
                          <div class="col-xs-12 col-lg-12">
                            <div style="position: relative; height: 290px;">
                              <div class="buttons-overlay" style="position: absolute; top: 219px; left: 125px; z-index: 10;">
                                <button type="button" class="btn data-demo" [class.activebtn]="chartIndex == 0" (click)="viewYear(0)">2024</button>&nbsp;&nbsp;
                        <button type="button" class="btn data-demo" [class.activebtn]="chartIndex == 1" (click)="viewYear(1)">2025</button>&nbsp;&nbsp;
                        <button type="button" class="btn data-demo" [class.activebtn]="chartIndex == 2" (click)="viewYear(2)">2026</button>&nbsp;&nbsp;
                        <button type="button" class="btn data-demo" [class.activebtn]="chartIndex == 3" (click)="viewYear(3)">All</button>
                              </div>

                              <apx-chart [series]="chartOptionsvin?.series" [chart]="chartOptionsvin?.chart"
                                [grid]="chartOptionsvin?.grid" [plotOptions]="chartOptionsvin?.plotOptions"
                                [responsive]="chartOptionsvin?.responsive" [legend]="chartOptionsvin?.legend"
                                [tooltip]="chartOptionsvin?.tooltip" [dataLabels]="chartOptionsvin.dataLabels"
                                [colors]="chartOptionsvin?.colors" [labels]="chartOptionsvin?.labels" [Height]="200" [Width]="200">
                              </apx-chart>
                            </div>
                              <div class="inside-chart-box">
                                <h4 class="inside-chart">$</h4>
                                <h5 class="inside-chart-value">{{ total | number: '1.2-2' }}</h5>
                                <h5 class="inside-chart-heading">Total Annual Cost</h5>
                              </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-lg-4"  style="margin-left: 50px;">
                        <div class="row">
                          <div class="col-xs-12 col-lg-2">
                            <img src="../../../../../assets/images/blue-line.svg">
                          </div>
                          <div class="col-xs-12 col-lg-10">
                            <h4 class="card-title card-heading" style="padding: 3px">$ {{chartIndex !== 3 ? (tcoChartData?.fuelData[chartIndex] | number:'1.2-2')  : (allTco.fuelCost | number:'1.2-2')}}</h4>
                            <h4 class="card-heading-data" style="padding-left:3px">Fuel Cost</h4>
                          </div>
                        </div>
                        <div class="row" style="margin-top: 6px;">
                          <div class="col-xs-12 col-lg-2">
                            <img src="../../../../../assets/images/green-line.svg">
                          </div>
                          <div class="col-xs-12 col-lg-10">
                            <h4 class="card-title card-heading" style="padding: 3px">$ {{chartIndex !== 3 ? (tcoChartData?.depreciationData[chartIndex] | number:'1.2-2') : (allTco.depreciationCost  | number:'1.2-2')}}</h4>
                            <h4 class="card-heading-data" style="padding-left:3px">Depreciation Cost</h4>
                          </div>
                        </div>
                        <div class="row" style="margin-top: 6px;">
                          <div class="col-xs-12 col-lg-2">
                            <img src="../../../../../assets/images/red-line.svg">
                          </div>
                          <div class="col-xs-12 col-lg-10">
                            <h4 class="card-title card-heading" style="padding: 3px">$  {{chartIndex !== 3 ? (tcoChartData?.maintenanceData[chartIndex]  | number:'1.2-2') : (allTco.maintenanceData | number:'1.2-2')}}</h4>
                            <h4 class="card-heading-data" style="padding-left:3px">Maintenance Cost</h4>
                          </div>
                        </div>
                        <div class="row" style="margin-top: 6px;">
                          <div class="col-xs-12 col-lg-2">
                            <img src="../../../../../assets/images/sky-blue-line.svg">
                          </div>
                          <div class="col-xs-12 col-lg-10">
                            <h4 class="card-title card-heading" style="padding: 3px">$ {{chartIndex !== 3 ? (tcoChartData?.insuranceData[chartIndex]  | number:'1.2-2') : (allTco.insuranceData |
                              number:'1.0-2')}}</h4>
                            <h4 class="card-heading-data" style="padding-left:3px">Insurance Cost</h4>
                          </div>
                        </div>
                        <div class="row" style="margin-top: 6px;">
                          <div class="col-xs-12 col-lg-2">
                            <img src="../../../../../assets/images/sea-green-line.svg">
                          </div>
                          <div class="col-xs-12 col-lg-10">
                            <h4 class="card-title card-heading" style="padding: 3px">$  {{chartIndex !== 3 ? (tcoChartData?.stateData[chartIndex] | number:'1.2-2'): (allTco.stateCost | number:'1.2-2')}}</h4>
                            <h4 class="card-heading-data" style="padding-left:3px">State Cost</h4>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                    <div class="col-xs-12 col-lg-5 ">
                      <div>
                      <span class="user-icon f-le">
                        <img src="../../../../../assets/images/atcoprojection.svg" class="icon">
                      </span>
                      <span class="f-le">
                        <h4 class="card-title card-heading mb-4">Annual TCO Projection</h4>
                      </span>
                      <span class="f-ri">
                        <h4 class="cost-digit mb-4"> $ {{ total | number: '1.2-2' }}</h4>
                      </span>
                    </div>
                    <apx-chart [series]="chartOptionstco.series" [chart]="chartOptionstco.chart" [xaxis]="chartOptionstco.xaxis"
                    [stroke]="chartOptionstco.stroke" [tooltip]="chartOptionstco.tooltip" [dataLabels]="chartOptionstco.dataLabels"
                    [legend]="chartOptionstco.legend" [markers]="chartOptionstco.markers" [grid]="chartOptionstco.grid"
                    [yaxis]="chartOptionstco.yaxis" [title]="chartOptionstco.title" [colors]="chartOptionstco.colors"  [plotOptions]="chartOptionstco.plotOptions"></apx-chart>
                    <div class="line-overlay"></div>
                    <div class="line-overlay1"></div>
                  </div>
                  </div>
                  <div class="row" style="margin-top: 60px;">
                    <div class="col-xs-12 col-lg-4" style="border:1px solid #F6F6F6; border-radius: 10px; padding:16px">
                      <div>
                        <span class="user-icon f-le">
                          <img src="../../../../../assets/images/fuelcost.svg" class="icon">
                        </span>
                        <span class="f-le">
                          <h4 class="card-title card-heading mb-4">Fuel Cost</h4>
                        </span>
                        <span class="f-ri">
                          <h4 class="cost-digit mb-4">$  {{chartIndex !== 3 ? (tcoChartData?.fuelData[chartIndex] | number:'1.2-2')  : (allTco.fuelCost | number:'1.2-2')}}</h4>
                        </span>
                      </div>
                      <div style="margin-left: -30px;">
                      <apx-chart [series]="chartOptionsFuelCost.series" [chart]="chartOptionsFuelCost.chart" [xaxis]="chartOptionsFuelCost.xaxis"
                      [stroke]="chartOptionsFuelCost.stroke" [tooltip]="chartOptionsFuelCost.tooltip" [dataLabels]="chartOptionsFuelCost.dataLabels"
                      [legend]="chartOptionsFuelCost.legend" [markers]="chartOptionsFuelCost.markers" [grid]="chartOptionsFuelCost.grid"
                      [yaxis]="chartOptionsFuelCost.yaxis" [title]="chartOptionsFuelCost.title"  [colors]="chartOptionsFuelCost.colors"  [plotOptions]="chartOptionsFuelCost.plotOptions"></apx-chart>
                      <div class="line-overlay3"></div>
                      <div class="line-overlay4"></div>
                    </div>
                  </div>
                    <div class="col-xs-12 col-lg-4" style="border-radius: 10px; padding:16px">
                      <div>
                        <span class="user-icon f-le">
                          <img src="../../../../../assets/images/depreciationcost.svg" class="icon">
                        </span>
                        <span class="f-le">
                          <h4 class="card-title card-heading mb-4">Depreciation Cost</h4>
                        </span>
                        <span class="f-ri">
                          <h4 class="cost-digit mb-4">$   {{chartIndex !== 3 ? (tcoChartData?.depreciationData[chartIndex] | number:'1.2-2') : (allTco.depreciationCost  | number:'1.2-2')}}</h4>
                        </span>
                      </div>
                      <div style="margin-left: -30px;">
                        <apx-chart [series]="chartOptionsDepriciation.series" [chart]="chartOptionsDepriciation.chart" [xaxis]="chartOptionsDepriciation.xaxis"
                        [stroke]="chartOptionsDepriciation.stroke" [tooltip]="chartOptionsDepriciation.tooltip" [dataLabels]="chartOptionsDepriciation.dataLabels"
                        [legend]="chartOptionsDepriciation.legend" [markers]="chartOptionsDepriciation.markers" [grid]="chartOptionsDepriciation.grid"
                        [yaxis]="chartOptionsDepriciation.yaxis" [title]="chartOptionsDepriciation.title"  [colors]="chartOptionsDepriciation.colors"  [plotOptions]="chartOptionsDepriciation.plotOptions"></apx-chart>
                        <div class="line-overlay5"></div>
                        <div class="line-overlay6"></div>
                      </div>
                    </div>
                    <div class="col-xs-12 col-lg-4" style="border:1px solid #F6F6F6; border-radius: 10px; padding:16px">
                      <div>
                        <span class="user-icon f-le">
                          <img src="../../../../../assets/images/maintenancecost.svg" class="icon">
                        </span>
                        <span class="f-le">
                          <h4 class="card-title card-heading mb-4">Maintenance Cost</h4>
                        </span>
                        <span class="f-ri">
                          <h4 class="cost-digit mb-4">$ {{chartIndex !== 3 ? (tcoChartData?.maintenanceData[chartIndex]  | number:'1.2-2') : (allTco.maintenanceCost |
                            number:'1.0-2')}}</h4>
                        </span>
                      </div>
                      <div style="margin-left: -30px;">
                      <apx-chart [series]="chartOptionsMaintenance.series" [chart]="chartOptionsMaintenance.chart" [xaxis]="chartOptionsMaintenance.xaxis"
                      [stroke]="chartOptionsMaintenance.stroke" [tooltip]="chartOptionsMaintenance.tooltip" [dataLabels]="chartOptionsMaintenance.dataLabels"
                      [legend]="chartOptionsMaintenance.legend" [markers]="chartOptionsMaintenance.markers" [grid]="chartOptionsMaintenance.grid"
                      [yaxis]="chartOptionsMaintenance.yaxis" [title]="chartOptionsMaintenance.title"  [colors]="chartOptionsMaintenance.colors"  [plotOptions]="chartOptionsMaintenance.plotOptions"></apx-chart>
                      <div class="line-overlay7"></div>
                      <div class="line-overlay8"></div>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="tcoChartData?.maintenanceData[chartIndex] === 0">
            <div class="col-xs-12 col-lg-12">
              <div class="card" style="height: 240px;">
                <div class="card-body">
                  <div class="row" style="margin-top: 30px; margin-bottom: 20px;">
                    <div class="col-xs-12 col-lg-12">
                      <img src="../../../../../assets/images/info-icon.svg" style="margin-left: 47%; margin-right: 47%; height: 60px;">
                    </div>
                  </div>
                  <!-- <span style="float: left;"><img src="../../../../../assets/images/Minimalist_info_Icon.png"></span> -->
                  <h5 class="login-headlines">TCO projections are not available<br>for VINs enrolled in the last 30 days </h5>
                </div>
              </div>
            </div>
          </div>
          </ng-container>

        </div>
      </div>

    </div>
</div>
</div>
</div>

<ng-template #largeNoDataFound let-modal class="wi-500">
  <div class="modal-header">
    <h5 class="modal-title mt-0">No Data Found !</h5>
    <button type="button" class="btn-close" (click)="modal.dismiss('Cross click');tcosearchPage()"
      aria-hidden="true"></button>
  </div>
  <div class="modal-body">
    <div class="col-xs-12 col-lg-12">This vehicle does not have complete details , sorry for inconvenience. Please reach
      out to support team.</div>
  </div>
</ng-template>
